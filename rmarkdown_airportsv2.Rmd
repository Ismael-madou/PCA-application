---
title: "Analyse des données sur les infrastructures aéroportuaires"
author:
- Ismaël Madou Gagi Grema
- Nikita Pomozov
date: "2024-12-18"
output:
  pdf_document:
    toc: true
  html_document:
    theme: yeti
    toc: true
    toc_float: true
documentclass: compterendu
lang: true
email:
- "ismael.madou-gagi-grema@etudiant.univ-reims.fr"
- "nikita.pomozov@etudiant.univ-reims.fr"
geometry:
- left=2cm
- right=2cm
- top=2.5cm
- bottom=2.5cm
babel-lang: french
abstract: La problématique est d'appréhender l'impact du revenu national sur les infrastructures
  aéroportuaires ainsi que les choix des différents pays dans le développement des
  infrastructures aéroportuaires.
git: https://github.com/pregnault/urcadown
database: https://data.gouv.fr
anac: "2024-2025"
diplome: Master 1 Statistique pour l'évaluation et la prévision.
module: SEO0702
enseig: Philippe Regnault
evaluation: "Compte-rendu d'analyse"
editor_options:
  markdown:
    wrap: sentence
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# **Les acronyms des pays utilisés pour l'analyse**

### Pays
| Acronyme | Pays                |
|----------|---------------------|
| AE       | Emirats Arabes Unis |
| BR       | Brésil              |
| CA       | Canada              |
| CN       | Chine               |
| JP       | Japon               |
| KR       | Corée du Sud        |
| US       | États-Unis          |

### Types d'aéroports
| Acronyme        | Type d'aéroport       |
|-----------------|-----------------------|
| Small_airports  | Petit aéroport        |
| medium_airport  | Moyen aéroport        |
| large_airport   | Grand aéroport        |
| heliport        | Héliport              |
| closed          | Fermé                 |
| balloonport     | Port de ballons       |
| seaplane_base   | Base d'hydravions     |

# **Introduction**

  Les aéroports jouent un rôle central dans le transport aérien mondial, facilitant les échanges internationaux, le tourisme, les affaires et le commerce. En tant qu’infrastructures stratégiques, leur gestion et leur développement sont essentiels pour les économies locales et mondiales.

  Cette étude se concentre sur une base de données regroupant des informations détaillées sur les aéroports du monde, incluant leur localisation, leur type et leurs caractéristiques, répartis à travers différents pays.

  À travers cette analyse, nous explorerons des variables clés telles que le type d’aéroport (grands, petits, moyens, héliports, etc.) et les codes ISO des pays en utilisant la méthode d’AFC, afin de comprendre les choix des pays dans le développement des infrastructures aéroportuaires. D’autre part, nous étudierons des variables telles que le revenu national (provenant d’une autre base de données fusionnée avec la présente base), le nombre de passagers, la longueur des pistes ainsi que leur largeur, en utilisant la méthode de l’ACP pour évaluer l’impact des revenus nationaux sur le développement de ces infrastructures.

  La problématique est de comprendre les choix des pays dans la construction des infrastructures aéroportuaires, mais également d’analyser l’impact des revenus nationaux sur la mise en œuvre de ces infrastructures. Cela nous permettra de déterminer si les pays les plus riches investissent davantage dans les aéroports et si cela se traduit par une augmentation du nombre de passagers.

# **Section 1: les choix des pays dans le developpement des infrastructures**

  À ce niveau, nous avons regroupé les pays ayant un nombre d’aéroports inférieur à 200 dans une classe appelée “autres”. Cela nous donne, dans ce cas, 38 pays au lieu de 245. Cette modification a été réalisée suite à une remarque de M. Regnault, qui a souligné que l’AFC tend à biaiser les résultats en attribuant un poids disproportionné aux pays ayant un faible nombre d’aéroports.

  Le choix des pays dans le développement des infrastructures aéroportuaires dépend de plusieurs facteurs, qui peuvent être liés à l’économie, à la politique, à la géopolitique, mais aussi à des raisons purement sociales.
Les pays développés ou à revenu élevé investissent généralement massivement dans leurs infrastructures aéroportuaires en raison de leur forte demande de transport aérien et de leur rôle central dans le commerce mondial.

  Par exemple, des pays comme la Chine et les États-Unis, d’après les résultats de nos analyses, possèdent un grand nombre de moyens aéroports en raison de plusieurs facteurs. Leur vaste taille géographique et leur population importante génèrent une forte demande pour un réseau aérien étendu.

  Les États-Unis, avec une économie développée et une politique de décentralisation, disposent de nombreux aéroports régionaux pour desservir des villes moyennes et petites. En Chine, l’urbanisation rapide et la croissance économique ont conduit à la construction d’aéroports dans des régions moins accessibles. Ces deux pays investissent massivement dans les infrastructures pour connecter efficacement leurs vastes territoires.

  Le tourisme international et les échanges commerciaux renforcent également la nécessité de ces aéroports. Grâce à leur réseau aérien dense, les États-Unis et la Chine facilitent les déplacements internes et internationaux. Enfin, le développement rapide de la Chine au cours des dernières décennies a particulièrement accentué cette dynamique.

  Le nombre élevé d’héliports en Corée du Sud et au Japon s’explique par plusieurs facteurs. Ces pays, fortement urbanisés, présentent une densité de population élevée dans leurs grandes villes, telles que Tokyo et Séoul, où l’espace est limité. Les hélicoptères offrent une solution de transport rapide et flexible, particulièrement utile dans les zones difficiles d’accès.

  La géographie particulière de ces pays, notamment les montagnes et les nombreuses îles du Japon, rend l’utilisation des infrastructures terrestres coûteuse et complexe. Les héliports permettent de faciliter l’accès aux zones rurales ou isolées. Par ailleurs, ces nations sont fréquemment confrontées à des catastrophes naturelles, ce qui rend les hélicoptères indispensables pour les opérations de secours d’urgence.

  Le Japon et la Corée du Sud ont également investi dans des technologies de pointe pour améliorer la sécurité et l’efficacité de ces infrastructures. Les héliports sont utilisés à des fins variées, notamment commerciales, médicales et militaires. Enfin, la forte demande de services aériens dans des environnements urbains densément peuplés renforce leur développement et leur utilisation.
  
  Le nombre élevé d’aéroports fermés et d’hydravions au Canada et au Brésil s’explique par des facteurs géographiques et logistiques. Ces deux pays, caractérisés par leur immense territoire, comptent de nombreuses régions isolées et difficiles d’accès par voie terrestre.

  En raison de la faible densité de population dans certaines zones et des coûts élevés pour maintenir des infrastructures aériennes, de nombreux petits aéroports ont été fermés. Les hydravions, en revanche, offrent une solution pratique et économique pour relier ces régions reculées. Au Canada, ils sont particulièrement adaptés aux conditions géographiques, comme les lacs et rivières, tandis qu’au Brésil, ils jouent un rôle crucial dans l’Amazonie, où le réseau routier est limité.

  Ces aéronefs permettent de desservir efficacement les communautés isolées tout en s’intégrant aux contraintes géographiques locales. Au Canada, les hydravions sont également largement utilisés pour des services de transport et d’urgence dans des zones difficiles d’accès. Ainsi, dans les deux pays, les hydravions remplacent efficacement les petits aéroports fermés, offrant une solution aérienne plus flexible et adaptée aux besoins locaux.

De plus, nous avons observé que certains États, comme les États-Unis et la Chine, possèdent des proportions similaires de différents types d’aéroports, reflétant la diversité de leurs besoins en transport. Les grands aéroports sont principalement destinés aux voyages internationaux, tandis que les aéroports moyens et petits répondent aux déplacements domestiques ou régionaux.

Dans des pays vastes et géographiquement variés, cette diversité est essentielle pour connecter efficacement les zones urbaines, rurales et isolées. Elle permet également de répondre à des besoins spécifiques, tels que le transport d’urgence ou l’accès à des régions éloignées. Cette combinaison assure une couverture complète et flexible du réseau aérien, adaptée à des contextes variés et à des enjeux économiques, sociaux et géographiques.

# **Section 2: L'impact des revenus nationaux sur les infrastructures aeroportuaires**

  Pour analyser l’impact des revenus nationaux sur les infrastructures aéroportuaires, nous avons combiné plusieurs ensembles de données. Cela inclut des informations sur les aéroports (localisation, taille et caractéristiques), les codes ISO des pays (utilisés comme clés pour fusionner les ensembles), les revenus nationaux par habitant (comme indicateur de la richesse économique) et le trafic annuel de passagers des 50 principaux aéroports (extraits de Wikipedia en raison de limitations d’accès aux données complètes sur tous les aéroports).

  En utilisant des variables comme les revenus nationaux, la longueur et la largeur des pistes, ainsi que le nombre de passagers, nous avons cherché à comprendre les relations entre ces facteurs pour déterminer si les pays les plus riches investissent davantage dans leurs aéroports et si ces investissements se traduisent par un trafic aérien accru.

  L’analyse visuelle montre des différences notables entre les 50 principaux aéroports mondiaux et les 75 000 aéroports dans leur ensemble. Les grandes infrastructures, comme des pistes plus longues et plus larges, sont principalement concentrées dans ces grands aéroports. Cela s’explique par plusieurs observations :
  - Les pistes plus longues sont nécessaires pour accueillir des avions transcontinentaux, qui nécessitent des distances supplémentaires pour décoller et atterrir.
	- Ces grands aéroports agissent comme des hubs internationaux, nécessitant des investissements massifs dans les infrastructures pour répondre aux flux croissants de passagers et de marchandises.

  Les données confirment que les pays les plus riches tendent à développer de grandes infrastructures aéroportuaires pour répondre à une demande accrue en transport aérien. Cependant, certaines exceptions apparaissent, révélant des schémas intéressants :
	- Certains pays à revenu limité enregistrent un trafic élevé, souvent grâce à leur rôle de hubs régionaux ou à leur dépendance au tourisme, comme les Maldives ou des pays d’Afrique de l’Est.
	- À l’inverse, certains pays comme le Bresil et la Chine disposant d’infrastructures avancées affichent un trafic passagers relativement faible, ce qui pourrait indiquer des inefficacités dans la gestion de ces aéroports ou une faible demande due à des facteurs économiques, sociaux ou géopolitiques. 

Notre analyse a été limitée par l’accès restreint aux données détaillées sur l’ensemble des aéroports mondiaux. En conséquence, les conclusions actuelles s’appuient principalement sur les 50 top aéroports. Pour une compréhension plus complète des tendances, il serait essentiel de disposer de données couvrant une plus large gamme d’aéroports, y compris ceux situés dans des pays en développement ou dans des régions peu accessibles.

# **Conclusion**

  Les résultats de l’analyse mettent en évidence une relation complexe entre la richesse nationale, les infrastructures aéroportuaires et le transport aérien. Si les pays les plus riches investissent généralement davantage dans leurs infrastructures aéroportuaires, ce qui se traduit par des volumes de trafic plus élevés, certaines exceptions notables suggèrent l’influence de facteurs supplémentaires.

  Des éléments tels que la localisation géographique, les politiques publiques, la connectivité aérienne ou encore la dépendance au tourisme jouent un rôle déterminant dans ces variations. Ces facteurs soulignent la nécessité d’examiner de manière approfondie les anomalies et les écarts par rapport au schéma général, afin de mieux comprendre la dynamique complexe entre le développement économique, les infrastructures aéroportuaires et les flux de passagers.

  Pour aller plus loin, une analyse détaillée des outliers et des facteurs externes s’avère indispensable. De plus, l’utilisation d’un ensemble de données plus exhaustif, incluant un plus grand nombre d’aéroports, serait cruciale pour confirmer ces observations et affiner les conclusions.

  En résumé, le développement des infrastructures aéroportuaires reflète souvent des choix stratégiques basés sur des besoins spécifiques propres à chaque pays. Ces décisions résultent d’une combinaison de facteurs économiques, politiques et sociaux, permettant aux nations d’adapter leurs investissements pour répondre aux exigences de leurs territoires et de leurs populations.

# **Annexe**

## L'AFC

  L’AFC (Analyse Factorielle des Correspondances) est une méthode statistique exploratoire utilisée pour analyser des tableaux de contingence, généralement dans le cadre de variables qualitatives.
Elle permet de visualiser et d’interpréter les relations entre les lignes et les colonnes d’un tableau de contingence. Dans notre cas, nous allons analyser le tableau de contingence avec les différents pays représentés en ligne et les types d’aéroports en colonne.

La première partie de notre méthode d’AFC concerne l’analyse descriptive.
Cette analyse descriptive nous permettra de résumer de façon simple et concise l’ensemble des données.

```{r,echo=FALSE}
# Chargement des données
data <- read.csv("data/World_Airports.csv", sep = ";")
```

  L’analyse univariée se concentre sur l’étude d’une seule variable à la fois, qu’elle soit quantitative ou qualitative.
L’objectif de cette analyse est de décrire les caractéristiques de la variable et de comprendre sa distribution.
Elle permet d’obtenir une première idée de la structure des données avant de passer à une analyse bivariée ou multivariée.

```{r, include=FALSE}
library(knitr)
```

```{r tableex, message = FALSE, echo=FALSE}

# Appliquer summary() à votre dataset
summary_stats <- summary(data)

# Convertir le résultat de summary en un tableau formaté avec kable pour LaTeX
kable(summary_stats, format = "latex", caption = "Tableau des statistiques descriptives", booktabs = TRUE)
```

```{r, include=FALSE}
library(kableExtra)
```

```{r, echo=FALSE}
# Calcul du nombre de valeurs manquantes par colonne
missing_values <- colSums(is.na(data))

# Convertir le tableau des valeurs manquantes en format LaTeX avec style

kable(missing_values, format = "latex", 
      caption = "Nombre de valeurs manquantes par colonne") %>%
  kable_styling(latex_options = c("striped", "hold_position")) %>%
  row_spec(0, bold = TRUE)  # Mettre en gras l'en-tête
```

  Les résultats montrent que presque toutes les variables n’ont pas de valeurs manquantes, à l’exception de X, Y, frequency, runway_length_ft, runway_width_ft, runway_lighted et runway_closed.
Pour notre part, nous nous concentrerons sur des variables telles que “iso_country”.

```{r,echo=FALSE}
table(data$type)

```

  La première variable comporte sept types d’aéroports. Le nombre d’occurrences de chaque type d’aéroport varie d’un pays à l’autre en fonction des choix stratégiques de ces derniers. Les pays ayant des orientations commerciales ont tendance à développer des aéroports petits, moyens et grands, contrairement aux pays ayant d’autres priorités.

```{r, echo=FALSE}
# Fréquences pour une variable catégorielle
frequence_type <- table(data$type)
frequence_iso_country <- table(data$iso_country)

```

  Ensuite, nous allons présenter les graphiques des variables que nous avons retenues pour effectuer l’AFC, à savoir le type d’aéroport et le pays.

```{r, echo = FALSE, eval = TRUE}
# Diagramme en barres pour 'le type d'aéroport'
barplot(frequence_type, 
        main = "Le type d'aéroport", 
        col = "skyblue", 
        xlab = "Type", 
        ylab = "Fréquence du type")
```

  Ce graphique nous renseigne sur la fréquence des différents types d’aéroports. Les petits aéroports sont les plus nombreux et représentent la plus grande partie de notre base de données. Viennent ensuite les héliports, avec une proportion moins importante. Puis, suivent les aéroports moyens, et enfin, les autres types d’aéroports, qui ont une faible proportion.
  
```{r, echo = FALSE, eval = TRUE}
# Diagramme en barres pour 'iso_country' (pays)
barplot(frequence_iso_country, 
        main = "Répartition par pays", 
        col = "lightgreen", 
        xlab = "Pays", 
        ylab = "Fréquence des pays")

```

  À ce niveau, on constate que les aéroports américains apparaissent très fréquemment, avec plus de 25 000 aéroports. Cela signifie que les États-Unis possèdent un nombre d’aéroports bien plus élevé que les autres pays, dont le nombre se situe généralement entre 0 et 5 000.

```{r setupcolours, eval = TRUE, echo = FALSE}
urcalightbrown <- "#D1AD55"
urcamediumbrown <- "#AE7433"
urcaheavybrown <- "#480000"
urcalightblue <- "#88C7FA"
urcamediumblue <- "#1A9DDD"
urcaheavyblue <- "#365A8E"
senolive <- "#76bc21"
sendarkgreen <- "#007934"
senlightgreen <- "#00ae42"
darkpink <- "#DB6761"
clay <- "#D95F02"
sand <- "#FED976"
shadedpurple <- "#CD7FC5"
```

  L’analyse bivariée est une méthode statistique utilisée pour examiner la relation entre deux variables. Dans ce cas, nous allons étudier la relation entre les variables “type” et “iso_country”.

```{r, include=FALSE}
# application de l'AFC sur tableau_contingence_is_no
library(FactoMineR)
library(Factoshiny)
library(tidyverse)
library(dplyr)
library(tidyr)
library(ggplot2)
library(corrplot)
```

```{r defdonneestemp, include=FALSE}
donnee_temporaire <- data %>% select(type, iso_country)
  
```

```{r,echo=FALSE}

# Création du tableau de contingence (avec 'type' comme colonnes et 'iso_country' comme lignes)
tableau_contingence <- donnee_temporaire %>%
  count(type, iso_country) %>%
  spread(key = type, value = n, fill = 0)

# Calculer le nombre d'aéroports par pays
aeroports_par_pays <- donnee_temporaire %>%
  count(iso_country) %>%
  rename(nombre_aeroports = n)

# Décider d'un seuil basé sur la distribution (par exemple, utiliser le quantile)
seuil <- 200 # Utiliser le 10ème percentile

# Créer une nouvelle colonne qui regroupe les pays avec moins que le seuil en "Autres"
aeroports_par_pays_regroupe <- aeroports_par_pays %>%
  mutate(iso_country_regroupe = ifelse(nombre_aeroports < seuil, "Autres", iso_country))

# Compter le nombre de pays avec moins de 200 aéroports
nombre_pays_faible_aeroports <- aeroports_par_pays %>%
  filter(nombre_aeroports < seuil) %>%
  count()

# Afficher la distribution après regroupement
table(aeroports_par_pays_regroupe$iso_country_regroupe)

# Recréer la table de contingence avec les pays regroupés
tableau_contingence_regroupe <- donnee_temporaire %>%
  mutate(iso_country_regroupe = ifelse(iso_country %in% aeroports_par_pays_regroupe$iso_country[aeroports_par_pays_regroupe$nombre_aeroports < seuil], 
                                       "Autres", iso_country)) %>%
  count(iso_country_regroupe, type) %>%
  spread(key = type, value = n, fill = 0)

tableau_contingence_regroupe <- na.omit(tableau_contingence_regroupe)

# Supprimer la colonne iso_country et mettre iso_country comme rownames
tableau_contingence_no_iso <- tableau_contingence_regroupe%>%
  select(-iso_country_regroupe)

# Ajouter les iso_country comme rownames
rownames(tableau_contingence_no_iso) <- tableau_contingence_regroupe$iso_country_regroupe

# Calcul de la matrice de corrélation entre les colonnes (types d'aéroports)
# Nous excluons la colonne iso_country
matrice_corr <- cor(tableau_contingence_no_iso[, -1], method = "pearson")


# Affichage de la matrice de corrélation avec corrplot
corrplot(matrice_corr, method = "color", type = "full", 
         col = colorRampPalette(c("white", "blue"))(200),
         title = "Matrice de Corrélation entre les Types d'Aéroports",
         addCoef.col = "black")  # Ajouter les coefficients de corrélation dans le graphique
```

  On constate une faible corrélation entre les aéroports fermés, les héliports d’une part, et les grands aéroports d’autre part. Cependant, il existe une corrélation moyenne entre les hydravions et les grands aéroports. De plus, une corrélation modérée est observée entre les petits et les grands aéroports, bien que cette corrélation ne soit pas très forte.

  Il convient également de noter une corrélation faible entre les hydravions et les moyens aéroports. Une corrélation modérée existe aussi entre les aéroports moyens, d’une part, et les héliports ainsi que les aéroports fermés.

  Cela pourrait refléter la diversité des fonctions de ces aéroports (vols commerciaux, services régionaux, activités spécialisées, etc.). Il est probable que des facteurs géographiques, économiques et techniques jouent un rôle important dans la manière dont ces types d’aéroports sont interconnectés. Les grandes infrastructures (grands aéroports) semblent être relativement indépendantes des autres types d’infrastructures aéronautiques, tandis que des corrélations modérées existent entre certains types d’aéroports plus petits et spécifiques (héliports, aéroports fermés, etc.).


Pearson's Chi-squared test

data:  tableau_croise
X-squared = 30863, df = 1458, p-value < 2.2e-16

Étant donné que la p-value est inférieure à 0,05, nous rejetons l’hypothèse nulle. Cela signifie qu’il existe une relation significative entre les deux variables qualitatives que nous avons testées. En d’autres termes, les résultats suggèrent que le type d’aéroport et le pays (ou le code ISO du pays) sont liés d’une manière statistiquement significative, et cette relation mérite d’être explorée davantage.



Fisher's Exact Test for Count Data with simulated p-value (based on 10000 replicates)

data:  tableau_croise
p-value = 9.999e-05
alternative hypothesis: two.sided

  Cela signifie que le test de Fisher examine une association bilatérale, c’est-à-dire qu’il teste si les deux variables sont significativement liées, sans spécifier à priori une direction particulière pour l’association.

```{r,include=FALSE}
# Charger le package vcd
library(vcd)
```

```{r,echo=FALSE}

# Calcul de Cramér's V
assoc_result <- assocstats(table(data$type, data$iso_country))
assoc_result
```

  Nous constatons une p-value faible, ce qui signifie qu’il existe une forte corrélation entre les deux variables qualitatives. De plus, les variables “coefficient de contingence” et “V de Cramér” indiquent une association modérée.


```{r,echo=FALSE}
# Test du Khi-deux pour l'indépendance
chisq.test(tableau_contingence_no_iso) -> res_chisq
res_chisq$statistic  # Affichage du statistic du test Khi-deux

# Définition de 'children' comme étant les valeurs attendues du test Khi-deux
children <- res_chisq$expected

# Calcul de l'inertie du nuage des profils
inertie <- res_chisq$statistic / sum(children) + 1
inertie

```

  Avec une statistique χ² de 30863,32 et une p-value proche de 0, vous pouvez conclure qu’il existe une forte association entre les deux variables catégorielles étudiées. Cette association nous permet d’expliquer l’une des variables en fonction de l’autre, ce qui améliore la compréhension.

```{r,include=FALSE}
# Charger les bibliothèques nécessaires
library(dplyr)
library(tidyr)
library(ggplot2)
```

```{r, include=FALSE}

# Calcul des profils ligne (PL) : normalisation par ligne
PL <- prop.table(as.matrix(tableau_contingence_no_iso), margin = 1)

# Vérification que la somme des profils ligne est égale à 1
apply(PL, 1, sum)
```

```{r,echo=FALSE}
# Tracer le barplot avec réduction de la taille des noms des pays

barplot(height = t(PL), beside = FALSE, 
       legend.text = colnames(PL),
        names.arg = rownames(PL),    # Utiliser les rownames pour les noms des pays
        las = 2,                    # Faire pivoter les étiquettes si elles sont trop longues
        col = rainbow(ncol(PL)),    # Exemple de coloration des barres
        cex.names = 0.6)            # Réduire la taille des noms des pays
```



  À ce niveau, nous avons un graphique qui indique la répartition des types d’aéroports pour chaque pays.

  Pour les petits aéroports, nous avons en première position le Kenya, suivi de la Tanzanie, puis de la Bolivie et de l’Afrique du Sud. Globalement, on remarque que les petits aéroports sont plus nombreux que les autres types d’aéroports.

  Concernant les hydravions, leur nombre est relativement faible. Cependant, nous constatons que le Canada semble développer ce type d’aéroports plus que n’importe quel autre pays.

  En ce qui concerne les moyens aéroports, la Chine se distingue par le plus grand nombre de ce type d’aéroports parmi tous les pays.

  De plus, le Japon, la Turquie, la Corée du Sud et les Émirats Arabes Unis ont tendance à développer davantage les héliports.

  Les grands aéroports sont concentrés dans des pays comme la Chine, la Norvège et la Turquie.

  Enfin, nous constatons que des pays comme l’Ukraine, la Grande-Bretagne, le Canada et les États-Unis ont fermé de nombreux aéroports, notamment en raison de plusieurs facteurs.

  Cependant, nous ne pouvons rien dire concernant les ports de ballons.
  
```{r, include=FALSE}

#calcul des profils colonnes
PC <- prop.table(as.matrix(tableau_contingence_no_iso), margin = 2)

# Vérification que la somme des profils colonnes est égale à 1 pour chaque colonne
apply(PC, 2, sum)


# Ensure row and column names are valid
rownames(PC)[is.na(rownames(PC)) | rownames(PC) == ""] <- paste0("Row", seq_len(nrow(PC)))
colnames(PC)[is.na(colnames(PC)) | colnames(PC) == ""] <- paste0("Col", seq_len(ncol(PC)))
```

```{r, echo=FALSE}
# Barplot where types of airports are on the x-axis and countries are stacked
barplot(height = PC, beside = FALSE, 
        legend.text = rownames(PC),       # Use row names (countries) for the legend
        names.arg = colnames(PC),        # Use column names (types of airports) for x-axis
        las = 2,                         # Rotate x-axis labels for readability
        col = rainbow(nrow(PC)),         # Apply a color palette for each country
        cex.names = 0.8)                 # Adjust x-axis label size for better readability

```

Ce barplot des profils de lignes indique la répartition de chaque type d’aéroport en fonction du pays.

On remarque qu’un nombre limité de pays possèdent des ballonports, des héliports et des hydravions. Cependant, pour les autres types d’aéroports, l’occurrence est présente dans presque tous les pays.

Par ailleurs, nous notons également que certains pays ont une fréquence plus élevée que celle des autres pays pour les types d’aéroports les plus fréquents.

```{r,echo=FALSE}
#recherche des valeurs propres
library("FactoMineR")
res_afc <- CA(X = tableau_contingence_no_iso, ncp = 7,
   graph = FALSE)
res_afc
res_afc$eig
```

```{r,echo=FALSE}

library(dplyr)
library(tidyr)
library(ggplot2)
library(corrplot)
library(FactoMineR)
```

```{r,echo=FALSE}

# Appliquer l'Analyse de Correspondances (CA) sur le tableau de contingence (exclure iso_country)
res_afc <- CA(X = tableau_contingence_no_iso, ncp = 7, graph = FALSE)

# Extraire et afficher les valeurs propres
valeurs_propres <- res_afc$eig

# Affichage des valeurs propres
print(valeurs_propres)

# Tracer l'histogramme des valeurs propres
barplot(valeurs_propres[, 1], 
        main = "Histogramme des Valeurs Propres de l'Analyse de Correspondances", 
        col = "skyblue", 
        ylab = "Valeurs Propres", 
        xlab = "Composantes", 
        border = "white")
```

  Ces résultats nous fournissent des informations sur les valeurs propres ainsi que la variance expliquée, qui correspond à l’explication de la variabilité des données observées.

Règle du coude : on retient 3 valeurs propres qui représentent 94,31 % de l’inertie. Cela signifie que ces trois valeurs expliquent à elles seules la majeure partie de l’information.

```{r,echo=FALSE}
# projection des nuages des profils lignes sur le plan principal
plot.CA(x = res_afc, choix = "CA", axes = c(1,2), cex = 0.5)
```

  À ce niveau, nous nous focaliserons sur les deux premiers axes pour analyser les données. Ces deux dimensions expliquent 74,19 % de l’information (variance expliquée).

  Les types d’aéroports qui sont bien représentés sur le premier axe sont les héliports (heliport) et les petits aéroports (small_airport). De plus, l’héliport contribue en grande partie à la construction du premier axe, sans oublier la contribution des petits aéroports. Ce premier axe oppose les héliports aux petits aéroports. Sur cet axe, des pays comme le Japon et la Corée du Sud sont bien représentés et contribuent fortement à la construction du premier axe.

  Sur le second axe, on observe une opposition entre les hydravions d’une part et les autres types d’aéroports d’autre part. Les hydravions et les aéroports fermés contribuent en grande partie à la construction du deuxième axe et sont très bien représentés sur cet axe. Le Canada et le Brésil sont bien représentés et contribuent énormément à la construction du second axe, ce qui signifie que ces deux pays possèdent davantage d’hydravions et d’aéroports fermés.

```{r,echo=FALSE}
# projection des nuages des profils lignes sur le plan principal
plot.CA(x = res_afc, choix = "CA", axes = c(1,3), cex = 0.5)
```

  Nous nous attarderons sur les dimensions 1 et 3 pour effectuer notre analyse. Cela nous permet de comprendre l’évolution de nos données avec une vision panoramique et différente de la précédente. En effet, d’autres variables qui n’ont pas eu d’effet sur les autres dimensions peuvent s’avérer importantes.

  Le troisième axe oppose les grands et moyens aéroports aux autres types d’aéroports. À ce stade, les moyens aéroports sont très bien représentés et contribuent énormément à la construction du troisième axe. La Chine, les États-Unis et les pays classés dans le groupe des “autres” contribuent en grande partie à la construction de cet axe. Par conséquent, nous pouvons conclure que la Chine et les États-Unis possèdent un nombre important de moyens aéroports.

```{r,echo=FALSE}
# projection des nuages des profils lignes sur le plan principal
plot.CA(x = res_afc, choix = "CA", axes = c(2,3), cex = 0.5)
```

  Nous remarquons à ce niveau que l’analyse se focalise sur le deuxième et le troisième axe. Nous notons que le Canada et le Brésil expliquent en grande partie le deuxième axe, d’une part, et que la Chine et les États-Unis contribuent fortement à l’explication du troisième axe, d’autre part.

  Cela nous permet de comparer les politiques de ces deux pays en termes d’infrastructures aéroportuaires. La politique aéroportuaire du Canada et de la Chine répond à des besoins et à des contextes très différents. Le Canada privilégie une approche flexible et régionale, adaptée à son vaste territoire et aux particularités géographiques, en utilisant des solutions comme les hydravions pour desservir les zones isolées. La Chine, quant à elle, adopte une approche ambitieuse et centralisée pour développer ses infrastructures, en réponse à une forte demande intérieure et internationale, en se concentrant sur la construction rapide de moyens aéroports et la modernisation des infrastructures existantes pour soutenir sa croissance économique.

## L'ACP

  La deuxième partie concerne l’analyse en Composantes Principales (ACP), qui est une méthode statistique utilisée pour analyser et réduire la dimensionnalité d’un jeu de données tout en préservant autant que possible l’information. Elle est souvent utilisée dans des contextes où les données sont de haute dimension, c’est-à-dire lorsqu’il y a de nombreuses variables (caractéristiques) qui peuvent être difficiles à analyser ou à visualiser.

```{r,include=FALSE}

income_table <- read.csv("data/National income.csv", sep = ";") 
iso_table <- read.csv("data/Countries ISO.csv", sep = ",")        

iso_table <- iso_table %>%
  rename(Country = Name)

income_table$Country <- trimws(income_table$Country)
combined_table <- income_table %>%
  left_join(iso_table, by = "Country")  

combined_table$Code[combined_table$Country == "USA"] <- "US"
combined_table$Code[combined_table$Country == "Bolivia"] <- "BO"
combined_table$Code[combined_table$Country == "Cabo Verde"] <- "CV"
combined_table$Code[combined_table$Country == "Cote d'Ivoire"] <- "CI"
combined_table$Code[combined_table$Country == "Curacao"] <- "CW"
combined_table$Code[combined_table$Country == "DR Congo"] <- "CD"
combined_table$Code[combined_table$Country == "Iran"] <- "IR"
combined_table$Code[combined_table$Country == "Lao PDR"] <- "LA"
combined_table$Code[combined_table$Country == "Moldova"] <- "MD"
combined_table$Code[combined_table$Country == "North Macedonia"] <- "MK"
combined_table$Code[combined_table$Country == "Taiwan"] <- "TW"
combined_table$Code[combined_table$Country == "Tanzania"] <- "TZ"
combined_table$Code[combined_table$Country == "Venezuela"] <- "VE"
combined_table$Code[combined_table$Country == "British Virgin Islands"] <- "VG"
combined_table$Code[combined_table$Country == "Cote d’Ivoire"] <- "CI"
combined_table$Code[combined_table$Country == "Namibia"] <- "NA"

combined_table <- combined_table %>%
  rename(iso_country = Code)

airports <- read.csv("data/World_Airports_Edited.csv", sep = ";")

combined_table_final <- airports %>%
  left_join(combined_table, by = "iso_country")  

combined_table_final$Country[combined_table_final$iso_country == "VI"] <- "Virgin Islands (US)"

passengers <- read.csv("data/Top airports filtered - Top airports filtered-2.csv", sep = ",") 

passengers <- passengers %>%
  rename(name = Airport) %>% 
  mutate(name = recode(name, "Heathrow Airport"="London Heathrow Airport"))

final_data <- combined_table_final %>%
  left_join(passengers, by = "name")  
data_with_passengers <- final_data %>% filter(!is.na(passengers))
data_for_pca <- data_with_passengers %>% 
  select("name", "iso_country", "National.income", "runway_length_ft", "runway_width_ft", "passengers")
data_for_pca[data_for_pca$name == "Toronto Aerodrome", "runway_length_ft"] <- 12000
data_for_pca[data_for_pca$name == "Toronto Aerodrome", "runway_width_ft"] <- 200
data_for_pca[data_for_pca$name == "Incheon International Airport", "National.income"] <- 33299
```

```{r,echo=FALSE}
hist(data_for_pca$National.income, main="Distribution de National Income", xlab="National Income")
```

  L'analyse univariée de la variable National Income révèle une distribution fortement asymétrique, avec la majorité des observations concentrées dans les tranches de revenu les plus basses. La raison en est le grand nombre d'aéroports asiatiques présents dans la liste (Chine, Inde, Philippines). Dans ces pays, le revenu national par habitant est faible, ce qui contribue à l'asymétrie du graphique. Une proportion significative du jeu de données se situe entre 20 000 et 60 000, comme le montrent les barres les plus hautes.
  En revanche, très peu d'observations dépassent la tranche des 80 000, ce qui met en évidence une disparité. Cela suggère que la majorité des entités du jeu de données appartiennent à des pays ou régions ayant des revenus nationaux modestes, tandis qu'une minorité représente des économies à revenu élevé.

```{r, echo=FALSE}
boxplot(data_for_pca$runway_length_ft, main="Distribution Runway Length", ylab="Runway Length (ft)")
```

```{r, echo=FALSE}
boxplot(airports$runway_length_ft, main="Distribution Runway Length", ylab="Runway Length (ft)")
```

  La comparaison des longueurs de pistes met en évidence une nette disparité entre les grands aéroports et les petites pistes d’aviation.
  Les 50 principaux aéroports disposent de pistes nettement plus longues et plus homogènes, avec une médiane autour de 11 000 pieds, reflétant leur capacité à accueillir de grands avions comme les avions gros-porteurs. En revanche, l’ensemble des 75 052 aéroports montre que la plupart des pistes sont beaucoup plus courtes, avec une médiane inférieure à 5 000 pieds, représentant des petits aérodromes régionaux, privés ou ruraux. Cependant, ce dataset inclut également des valeurs extrêmes, avec des pistes dépassant les 30 000 pieds, correspondant aux grands aéroports internationaux. Dans l’ensemble, la distribution est fortement asymétrique, soulignant la différence entre les petites pistes et quelques grands hubs internationaux.

```{r, include=FALSE}
library("DataExplorer")
library("FactoMineR")
library("Factoshiny")
```

```{r, include=FALSE}
sapply(data_for_pca[, c("National.income", "runway_length_ft", "runway_width_ft", "passengers")], class)
data_for_pca$passengers <- as.numeric(gsub(",", "", data_for_pca$passengers))
pca <- data_for_pca[, c("National.income", "runway_length_ft", "runway_width_ft", "passengers")]
pca_data_scaled <- scale(pca)
```

```{r, echo=FALSE}

V <- cov(pca_data_scaled) #matrice des covariances
R <- cor(pca_data_scaled) #matrice des correlation
corrplot::corrplot(R, type = "upper", method = "square")

```

  La matrice de corrélation montre une relation positive forte entre le revenu national et le nombre de passagers, ce qui suggère que les aéroports avec un trafic de passagers plus élevé génèrent davantage de revenus.
La longueur des pistes et la largeur des pistes sont fortement corrélées entre elles, mais n’ont que peu ou pas de relation avec le revenu national ou le trafic de passagers.
  Cela indique que, bien que les dimensions des pistes soient liées entre elles, elles n’influencent pas directement les revenus ou le flux de passagers.
  Globalement, le nombre de passagers semble être le principal moteur du revenu national pour les aéroports.

```{r,echo=FALSE}
res_pca <- PCA(X = pca_data_scaled,
               scale.unit = TRUE, # On précise qu'on souhaite réaliser une ACP sur données réduites
               graph = FALSE)
            
# On peut représenter le résultat de l'acp par la suite
plot.PCA(res_pca, axes = c(1,2), choix = "ind")

```

  Le graphique des individus illustre la répartition des observations en fonction de ces composantes principales.
Les points situés dans le quadrant supérieur droit, comme 27 (Emirats Arabes Unis) et 38 (Singapour), représentent des nations riches avec des infrastructures avancées et un trafic passagers élevé, reflétant la corrélation positive entre ces variables.
  En revanche, des observations comme 6 et 18, situées dans le quadrant supérieur gauche, correspondent aux États Unis ayant un revenu modéré mais des infrastructures aéroportuaires atypiques qui s’écartent de la tendance générale.
  De manière similaire, des points comme 43 (La Chine) et 32 (Brésil) dans le quadrant inférieur droit représentent les pays avec des infrastructures importantes mais des volumes de passagers faibles.

```{r, echo=FALSE}
res_pca <- PCA(X = pca_data_scaled,
               scale.unit = TRUE, # On précise qu'on souhaite réaliser une ACP sur données réduites
               graph = FALSE)
plot.PCA(res_pca, axes = c(1,2), choix = "var")
```

  L’alignement de “National.income” avec passengers sur Dim 1 met en évidence une forte corrélation positive entre la richesse d’un pays et la demande de transport aérien.
En revanche, les vecteurs représentant la longueur et la largeur des pistes sont étroitement groupés et orientés principalement sur Dim 2, ce qui suggère que les caractéristiques physiques des infrastructures sont interdépendantes mais influencées par des facteurs ne dépendant pas uniquement du revenu national.
Cette séparation entre le trafic passagers lié au revenu et les caractéristiques physiques des infrastructures implique que, bien que les pays riches investissent généralement dans des aéroports plus grands et mieux équipés, l’expansion des infrastructures n’est pas toujours proportionnelle aux niveaux de revenu.

```{r,echo=FALSE}
res_pca$eig
barplot(res_pca$eig[,1])
```

  L'histogramme des valeurs propres montre la contribution des quatre composantes principales (comp 1, comp 2, comp 3 et comp 4) à l’explication de la variance dans le jeu de données.
La composante 1 capture la majeure partie de la variance, révélant les principales structures des données (comme le revenu national, le volume de passagers ou les dimensions des pistes).
La composante 2 contribue également de manière significative, bien qu’à un degré moindre, en expliquant des variations complémentaires.
  En revanche, les composantes 3 et 4 ont des contributions nettement plus faibles, indiquant qu’elles expliquent des variations mineures.
  Cela suggère que les deux premières composantes suffisent pour représenter la majorité des informations du jeu de données tout en simplifiant l’analyse et la visualisation.

# **Source**

Airports : <https://www.kaggle.com/datasets/danishjmeo/world-airports-data> 

Top airports : <https://en.wikipedia.org/wiki/List_of_busiest_airports_by_passenger_traffic>

ISO codes : <https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes> 

National Income : <https://wid.world/data/>
